<!DOCTYPE html>
<html>
<head>
  <title>Location Capture</title>
</head>
<body>
  <h2>Capturing your location...</h2>
  <script>
    function sendLocation(lat, lng) {
      const url = "form.gov.sg/admin/form/689d80e7da3397fa2dc6a52e"; // replace with your Web App URL
      fetch(url + `?lat=${lat}&lng=${lng}`, {method: 'POST'})
        .then(response => response.text())
        .then(data => {
          document.body.innerHTML = "<h2>Location Captured!</h2>";
        })
        .catch(err => {
          document.body.innerHTML = "<h2>Failed to capture location.</h2>";
          console.error(err);
        });
    }

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        pos => sendLocation(pos.coords.latitude, pos.coords.longitude),
        err => document.body.innerHTML = "<h2>Permission denied or error!</h2>"
      );
    } else {
      document.body.innerHTML = "<h2>Geolocation not supported</h2>";
    }
  </script>
</body>
</html>
